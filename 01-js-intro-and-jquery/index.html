<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Index</title>
        <meta name="author" content="Martin Kalaizich">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
        </script>
    </head>
    <body>
        <header class="section he">Random Content</header>
        <p class="section ph">More randomness</p>
        <header id="fade" class="section hidden">Hello World!</header>
        <header>A tale of Two Cities</header>
        <p>
            It was the best of times,it was the worst of times,it was the age of wisdom,it was the age of foolishnes
            s,it was the epoch of belief,it was the epoch of incredulity,it was the season of Light,it was the season of
            Darkness,it was the spring of hope,it was the winter of despair
        </p>
        <p class="jokeplace"></p>
        <button type = "button" onclick="getJoke()" class="butt">Get a Joke</button>
        
        <script>
            document.onload=fadeIn();
            function fadeIn(){
                let sec =  document.getElementById("fade");
                let opac = 0;
                let int = setInterval(appear,100);
                function appear(){
                    if(opac==1){
                        clearInterval(int);
                    } 
                    else {
                        opac=opac+0.1;
                        sec.style.opacity = opac;
                        console.log(opac);
                    }
                }
            }
        </script>

        <script>
            function getJoke() {
                let xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    obj = JSON.parse(this.responseText);
                    document.querySelector(".jokeplace").classList.add("jokeshow");
                    document.querySelector(".jokeplace").innerHTML =obj.value.joke;

                }
            };
            xhttp.open("GET", "http://api.icndb.com/jokes/random", true);
            xhttp.send();
            }
        </script>

        <script src="https://code.jquery.com/jquery-{{JQUERY_VERSION}}.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-{{JQUERY_VERSION}}.min.js"><\/script>')</script>
        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>
        <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
        <script>
            window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;
            ga('create','UA-XXXXX-Y','auto');ga('send','pageview')
        </script>
        <script src="https://www.google-analytics.com/analytics.js" async defer></script>
    </body>
</html>